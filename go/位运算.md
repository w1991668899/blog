# 位运算

<p align='center'>
<img src='https://github.com/w1991668899/blog/blob/master/image/go/%E4%BD%8D%E8%BF%90%E7%AE%97.jpeg'>
</p>

# 操作符

```
&   // 位运算 AND
|   // 位运算 OR
^   // 位运算 XOR
&^  // 位清空 (AND NOT)
<<  // 左移
>>  // 右移
```

## `&` 二进制中只有两个数都是1结果才为1
```
var a uint8 = 20   
var b uint8 = 15

// a 二进制:  0001 0100 
// b 二进制:  0000 1111

k := a & b
fmt.Println(k)
// 结果：4

// 0001 0100 & 0000 1111 =  0000 0100
// 4的二进制是: 0000 0100
```

## `|`  二进制中两个数只要有一个是1 结果就是1

```
0001 0100 | 0000 1111 = 0001 1111
```

## `^`  作为二元运算符

```
0001 0100 ^ 0000 1111 = 0001 1011
// 相同取0， 相反取1
```

## `^` 作为一元运算符
```
^0001 0100 = 1110 1011
// 按位取反
```
<br>

```
package main

import "fmt"

func main() {
	var a uint8 = 100
	fmt.Println(^a, ^100, ^-100)
}

// 打印：155 -101 99
```
**注意：有符号数字在二进制中是以反码存在的**

## `&^` 将运算符左边数据相异的位保留，相同位清零
```
0001 0100 &^ 0000 1111 = 0001 0000
```

## `<<` 与 `>>` 位移动

左移：<br>
- 右边空出的位用0填补
- 高位左移溢出则舍弃该高位

<br>

右移：<br>
- 左边空出的位用0或者1填补。正数用0填补，负数用1填补。（不同的环境填补方式可能不同）
- 低位右移溢出则舍弃该位


